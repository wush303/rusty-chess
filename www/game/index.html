<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

    <h1>This is a Heading</h1>
    <div id="chat">
            <p><em>Connecting...</em></p>
        </div>
    <p>This is a paragraph.</p>
    <script type="text/javascript">
    "use strict";
    const chat = document.getElementById('chat');
    //const text = document.getElementById('text');
    const uri = 'ws://' + location.host + '/game';
    const ws = new WebSocket(uri);
    function message(data) {
        const line = document.createElement('p');
        line.innerText = data;
        chat.appendChild(line);
    }
    ws.onopen = function() {
        chat.innerHTML = '<p><em>Connected!</em></p>';
    };
    ws.onmessage = function(msg) {
        message(msg.data);
    };
    ws.onclose = function() {
        chat.getElementsByTagName('em')[0].innerText = 'Disconnected!';
    };
    send.onclick = function() {
        const msg = text.value;
        ws.send(msg);
        text.value = '';
        message('<You>: ' + msg);
    };


    </script>

</body>
</html>
